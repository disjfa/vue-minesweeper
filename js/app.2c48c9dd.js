(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],m=0,h=[];m<o.length;m++)r=o[m],i[r]&&h.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={app:0},a=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push(["a1ec","chunk-vendors"]),s()})({"52df":function(t,e,s){},a1ec:function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),i=s("8c4f"),a=s("0284"),r=s.n(a),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view"),s("div",{staticClass:"bg-light"},[s("div",{staticClass:"container py-3"},[s("h3",{staticClass:"m-1"},[t._v("Helpful links")]),s("a",{staticClass:"btn btn-outline-secondary m-1",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.share()}}},[s("i",{staticClass:"fa fa-share-alt"}),t._v(" share\n      ")]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4)])]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")],1)},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn btn-outline-secondary m-1",attrs:{href:"https://github.com/disjfa/vue-minesweeper"}},[s("i",{staticClass:"fab fa-github"}),t._v(" github\n      ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn btn-outline-secondary m-1",attrs:{href:"https://www.npmjs.com/package/vue-minesweeper"}},[s("i",{staticClass:"fab fa-npm"}),t._v(" npm\n      ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn btn-outline-secondary m-1",attrs:{href:"https://codepen.io/disjfa/pen/axdmob"}},[s("i",{staticClass:"fab fa-codepen"}),t._v(" codepen\n      ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn btn-outline-secondary m-1",attrs:{href:"https://medium.com/@disjfa/vue-creating-custom-component-bc939e40421a"}},[s("i",{staticClass:"fab fa-medium"}),t._v(" medium\n      ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn btn-outline-secondary m-1",attrs:{href:"https://github.com/disjfa/vue-minesweeper/issues"}},[s("i",{staticClass:"fa fa-exclamation-circle"}),t._v(" issues?\n      ")])}],l={name:"app",methods:{share:function(){navigator.share({title:"Vue minesweeper",text:"A simple minesweeper game.",url:document.location})}}},u=l,m=s("2877"),h=Object(m["a"])(u,o,c,!1,null,null,null),f=h.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"bg-light"},[s("div",{staticClass:"container py-3"},[s("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:{name:"home"},"aria-label":"Back"}},[s("i",{staticClass:"fa fa-arrow-left"})]),s("h3",{staticClass:"d-inline btn"},[t._v("Vue minesweeper")])],1)]),s("div",{staticClass:"container pb-3"},[s("div",{staticClass:"row justify-content-md-center"},[t.doesItFit()?s("div",{staticClass:"col",class:{"col-md-9 col-lg-7":t.cols<14}},[s("minesweeper-game",{attrs:{rows:t.rows,cols:t.cols,bombs:t.bombs}})],1):s("div",[s("h3",{staticClass:"text-center"},[t._v("416: Out of range")]),s("p",[t._v("Cols and rows are max 50. But you may have 99 bombs!")]),s("br"),s("img",{staticClass:"img-fluid",attrs:{src:"https://http.cat/416",alt:"Out of range"}})])])])])},d=[],p={name:"game",data:function(){return{rows:9,cols:9,bombs:10}},mounted:function(){this.initParams(this.$route.params)},methods:{doesItFit:function(){var t=this.rows,e=this.cols,s=this.bombs;return!(t*e<s)&&(!(t>50)&&(!(e>50)&&!(s>99)))},initParams:function(t){var e=t.rows,s=t.cols,n=t.bombs;this.rows=parseInt(e)||9,this.cols=parseInt(s)||9,this.bombs=parseInt(n)||10},updateRoute:function(t){var e=this.rows,s=this.cols,n=this.bombs,i=Object.assign({rows:e,cols:s,bombs:n},t);this.$router.push({name:"game",params:i})}},watch:{rows:function(t){this.updateRoute({rows:t})},cols:function(t){this.updateRoute({cols:t})},bombs:function(t){this.updateRoute({bombs:t})},$route:function(t){this.initParams(t.params)}}},v=p,g=Object(m["a"])(v,b,d,!1,null,null,null),w=g.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"bg-light"},[s("div",{staticClass:"container py-3"},[s("h3",[t._v("Play a game")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-4 py-3"},[s("router-link",{staticClass:"btn btn-lg btn-block btn-success",attrs:{href:"#",to:{name:"game",params:{rows:9,cols:9,bombs:10}}}},[s("i",{staticClass:"fa fa-baby"}),t._v("\n            Beginner\n          ")]),s("p",{staticClass:"pt-3"},[t._v("A simple 9x9 beginner game")])],1),s("div",{staticClass:"col-12 col-md-4 py-3"},[s("router-link",{staticClass:"btn btn-lg btn-block btn-success",attrs:{href:"#",to:{name:"game",params:{rows:16,cols:16,bombs:40}}}},[s("i",{staticClass:"fa fa-user"}),t._v("\n            Intermediate\n          ")]),s("p",{staticClass:"pt-3"},[t._v("Intermediate, a 16x16 board")])],1),s("div",{staticClass:"col-12 col-md-4 py-3"},[s("router-link",{staticClass:"btn btn-lg btn-block btn-success",attrs:{href:"#",to:{name:"game",params:{rows:16,cols:30,bombs:99}}}},[s("i",{staticClass:"fa fa-user-astronaut"}),t._v("\n            Expert\n          ")]),s("p",{staticClass:"pt-3"},[t._v("For the die hards, 16x99 with 99 bombs")])],1)])])]),s("form",{staticClass:"bg-primary py-3 text-light",on:{submit:t.updateRoute}},[s("div",{staticClass:"container"},[s("h3",[t._v("Or start a custom game")]),s("div",{staticClass:"row"},[s("div",{staticClass:"form-group col-12 col-md-4"},[s("label",{attrs:{for:"input-rows"}},[t._v("Rows")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rows,expression:"rows",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"50",id:"input-rows"},domProps:{value:t.rows},on:{input:function(e){e.target.composing||(t.rows=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"form-group col-12 col-md-4"},[s("label",{attrs:{for:"input-cols"}},[t._v("Cols")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.cols,expression:"cols",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"50",id:"input-cols"},domProps:{value:t.cols},on:{input:function(e){e.target.composing||(t.cols=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"form-group col-12 col-md-4"},[s("label",{attrs:{for:"input-bombs"}},[t._v("Bombs")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.bombs,expression:"bombs",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"99",id:"input-bombs"},domProps:{value:t.bombs},on:{input:function(e){e.target.composing||(t.bombs=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t._m(1)])])])},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-3"},[s("h1",[t._v("Vue minesweeper")]),s("p",{staticClass:"lead"},[t._v("\n      A simple minesweeper game.\n    ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"}},[s("i",{staticClass:"fa fa-dice"}),t._v("\n            Play\n          ")])])])}],y={name:"home",data:function(){return{rows:9,cols:9,bombs:10}},mounted:function(){this.initParams(this.$route.params)},methods:{doesItFit:function(){var t=this.rows,e=this.cols,s=this.bombs;return!(t*e<s)&&(!(t>50)&&(!(e>50)&&!(s>99)))},initParams:function(t){var e=t.rows,s=t.cols,n=t.bombs;this.rows=parseInt(e)||9,this.cols=parseInt(s)||9,this.bombs=parseInt(n)||10},updateRoute:function(t){console.log("a");var e=this.rows,s=this.cols,n=this.bombs,i=Object.assign({rows:e,cols:s,bombs:n},t);this.$router.push({name:"game",params:i})}}},x=y,O=Object(m["a"])(x,C,_,!1,null,null,null),k=O.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"minesweeper"},[s("div",{staticClass:"minesweeper-status"},[s("div",{staticClass:"minesweeper-bombcount"},[t._v("\n      "+t._s(t.bombCount)+"\n    ")]),s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.initGrid(e)}}},[t._v("\n      ☺\n    ")]),s("minesweeper-timer",{staticClass:"minesweeper-timer",attrs:{finished:t.finished}})],1),s("div",{staticClass:"minesweeper-grid",style:t.getGridStyle()},t._l(t.grid,function(e,n){return s("minesweeper-cell",{key:n,attrs:{cell:e},nativeOn:{click:function(s){return t.clickCell(e,n)},contextmenu:[function(s){return t.addFlag(e)},function(t){t.preventDefault()}],dblclick:function(s){return s.preventDefault(),t.doubleClick(e,n)}}})}),1)])},$=[],F=(s("ac6a"),s("7514"),s("c5f6"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"minesweeper-cell",class:t.getClass()},[t.cell.isOpen&&t.cell.bombCount?s("div",[t._v("\n    "+t._s(t.cell.bombCount)+"\n  ")]):t._e(),t.cell.hasFlag?s("div",[t._v("\n    ⚑\n  ")]):t._e()])}),E=[],P={name:"minesweeper-cell",props:{cell:{type:Object,required:!0}},methods:{getClass:function(){var t=this.cell;return t.isOpen&&t.hasBomb?"minesweeper-bomb":t.isOpen?"minesweeper-open":t.hasFlag?"minesweeper-flag":""}}},T=P,I=(s("a8de"),Object(m["a"])(T,F,E,!1,null,null,null)),B=I.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(t._s(t.theTime.toFixed(1)))])},M=[],R={name:"minesweeper-timer",props:{finished:{type:Boolean,required:!0}},data:function(){return{theTime:0,timer:!1,timerReq:!1}},mounted:function(){this.initTimer()},methods:{initTimer:function(){this.finished?window.cancelAnimationFrame(this.timerReq):(this.timer=!1,this.timerReq=window.requestAnimationFrame(this.setTimer))},setTimer:function(t){this.timer||(this.timer=t),this.theTime=(t-this.timer)/1e3,this.finished||window.requestAnimationFrame(this.setTimer)}},watch:{finished:function(){this.initTimer()}}},G=R,q=Object(m["a"])(G,N,M,!1,null,null,null),A=q.exports,S={name:"minesweeper-game",components:{MinesweeperCell:B,MinesweeperTimer:A},props:{cols:{type:Number,default:9},rows:{type:Number,default:9},bombs:{type:Number,default:10}},data:function(){return{bombCount:0,finished:!1,won:!1,grid:[]}},mounted:function(){this.initGrid()},methods:{getGridStyle:function(){var t=this.cols;return"grid-template-columns: repeat(".concat(t,", 1fr);")},initGrid:function(){var t=this,e=this.bombs,s=this.cols,n=this.rows,i=n*s,a=[];if(e>i)console.log("more bombs than space on the grid!");else{for(var r=0;r<i;r+=1)a.push({hasBomb:!1,isOpen:!1,hasFlag:!1,bombCount:0,neighborhood:null});while(e>0){var o=Math.floor(Math.random()*i);!1===a[o].hasBomb&&(e-=1,a[o].hasBomb=!0)}this.grid=a,this.finished=!0,this.$nextTick(function(){t.finished=!1}),this.won=!1,this.bombCount=this.bombs}},haveWeWon:function(){if(!this.finished&&0===this.bombCount){var t=this.grid.find(function(t){return!t.isOpen&&!t.hasFlag});t||(this.finished=!0,this.won=!0)}},addFlag:function(t){if(!this.finished&&!t.isOpen){t.hasFlag=!t.hasFlag;var e=this.grid,s=e.reduce(function(t,e){return e.hasFlag?t+1:t},0);this.bombCount=this.bombs-s,this.haveWeWon()}},doubleClick:function(t,e){if(!this.finished&&!1!==t.isOpen&&(this.setNeighborhood(t,e),t.bombCount)){var s=this.grid,n=0;t.neighborhood.forEach(function(t){s[t].hasFlag&&(n+=1)}),n===t.bombCount&&this.checkNeighborhood(t,!0)}},clickCell:function(t,e){if(!this.finished&&!t.hasFlag&&!t.isOpen){if(t.hasBomb){var s=this.grid;return s.forEach(function(t){t.hasBomb&&(t.isOpen=!0)}),void(this.finished=!0)}this.setNeighborhood(t,e),t.isOpen=!0,this.checkNeighborhood(t),this.haveWeWon()}},checkNeighborhood:function(t,e){var s=this;if(0===t.bombCount||!0===e){var n=this.grid;t.neighborhood.forEach(function(t){s.clickCell(n[t],t)})}},setNeighborhood:function(t,e){if(null===t.neighborhood){for(var s=this.grid,n=[],i=0,a=-1;a<2;a+=1)for(var r=-1;r<2;r+=1){var o=this.getIndex(e,a,r);!1!==o&&(n.push(o),s[o].hasBomb&&(i+=1))}t.bombCount=i,t.neighborhood=n}},getIndex:function(t,e,s){var n=this.cols,i=this.rows;return(0!==e||0!==s)&&(!(t%n+e<0||t%n+e>=n)&&(!(Math.floor(t/n)+s<0||Math.floor(t/n)+s>=i)&&t+(s*n+e)))}},watch:{rows:function(){this.initGrid()},cols:function(){this.initGrid()},bombs:function(){this.initGrid()}}},V=S,W=(s("c3a2"),Object(m["a"])(V,j,$,!1,null,null,null)),D=W.exports;function U(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.component("MinesweeperGame",D)}"undefined"!==typeof window&&window.Vue&&window.Vue===n["a"]&&U(window.Vue);var J=U;n["a"].config.productionTip=!1,n["a"].use(i["a"]),n["a"].use(J);var H=new i["a"]({routes:[{path:"/",name:"home",component:k},{path:"/:rows/:cols/:bombs",name:"game",component:w},{path:"*",redirect:{name:"home"}}]});n["a"].use(r.a,{id:"UA-140663214-1",router:H}),new n["a"]({render:function(t){return t(f)},router:H}).$mount("#app")},a8de:function(t,e,s){"use strict";var n=s("52df"),i=s.n(n);i.a},a9d3:function(t,e,s){},c3a2:function(t,e,s){"use strict";var n=s("a9d3"),i=s.n(n);i.a}});
//# sourceMappingURL=app.2c48c9dd.js.map