(function(e){function t(t){for(var o,i,a=t[0],l=t[1],c=t[2],f=0,m=[];f<a.length;f++)i=a[f],r[i]&&m.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},s=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;s.push(["a1ec","chunk-vendors"]),n()})({"52df":function(e,t,n){},a1ec:function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("div",{staticClass:"bg-light"},[n("div",{staticClass:"container py-3"},[n("div",{staticClass:"btn-group"},[n("a",{staticClass:"btn btn-outline-success",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.setGame(9,9,10)}}},[e._v("\n          Beginner\n        ")]),n("a",{staticClass:"btn btn-outline-success",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.setGame(16,16,40)}}},[e._v("\n          Intermediate\n        ")]),n("a",{staticClass:"btn btn-outline-success",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.setGame(16,30,99)}}},[e._v("\n          Expert\n        ")])]),n("hr"),n("div",{staticClass:"row"},[n("div",{staticClass:"form-group col"},[n("label",{attrs:{for:"input-rows"}},[e._v("Rows")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.rows,expression:"rows",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"50",id:"input-rows"},domProps:{value:e.rows},on:{input:function(t){t.target.composing||(e.rows=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"form-group col"},[n("label",{attrs:{for:"input-cols"}},[e._v("Cols")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.cols,expression:"cols",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"50",id:"input-cols"},domProps:{value:e.cols},on:{input:function(t){t.target.composing||(e.cols=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",{staticClass:"form-group col"},[n("label",{attrs:{for:"input-bombs"}},[e._v("Bombs")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.bombs,expression:"bombs",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"99",id:"input-bombs"},domProps:{value:e.bombs},on:{input:function(t){t.target.composing||(e.bombs=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])])]),n("div",{staticClass:"container py-3"},[n("h3",{staticClass:"text-center"},[e._v("The game")]),n("div",{staticClass:"row justify-content-md-center"},[e.rows&&e.rows<=50&&e.cols&&e.cols<=50&&e.bombs&&e.bombs<=99?n("div",{staticClass:"col",class:{"col-md-9 col-lg-7":e.cols<14}},[n("minesweeper-game",{attrs:{rows:e.rows,cols:e.cols,bombs:e.bombs}})],1):n("div",[n("h3",{staticClass:"text-center"},[e._v("416: Out of range")]),n("p",[e._v("Cols and rows are max 50. But you may have 99 bombs!")]),n("br"),n("img",{attrs:{src:"https://http.cat/416",alt:"Out of range"}})])])]),e._m(1),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container py-3"},[n("h1",[e._v("Vue minesweeper")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-light"},[n("div",{staticClass:"container py-3"},[n("h3",[e._v("Instalation")]),n("code",[e._v("npm i vue-minesweeper")])])])}],i={name:"app",data:function(){return{rows:9,cols:9,bombs:10}},methods:{setGame:function(e,t,n){this.rows=e,this.cols=t,this.bombs=n}}},a=i,l=n("2877"),c=Object(l["a"])(a,r,s,!1,null,null,null),u=c.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"minesweeper"},[n("div",{staticClass:"minesweeper-status"},[n("div",{staticClass:"minesweeper-bombcount"},[e._v("\n      "+e._s(e.bombCount)+"\n    ")]),n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.initGrid(t)}}},[e._v("\n      ☺\n    ")]),n("div",{staticClass:"minesweeper-timer"},[e._v("0")])]),n("div",{staticClass:"minesweeper-grid",style:e.getGridStyle()},e._l(e.grid,function(t,o){return n("minesweeper-cell",{key:o,attrs:{cell:t},nativeOn:{click:function(n){return e.clickCell(t,o)},contextmenu:[function(n){return e.addFlag(t)},function(e){e.preventDefault()}],dblclick:function(n){return n.preventDefault(),e.doubleClick(t,o)}}})}),1)])},m=[],d=(n("ac6a"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"minesweeper-cell",class:e.getClass()},[e.cell.isOpen&&e.cell.bombCount?n("div",[e._v("\n    "+e._s(e.cell.bombCount)+"\n  ")]):e._e(),e.cell.hasFlag?n("div",[e._v("\n    ⚑\n  ")]):e._e()])}),b=[],h={name:"minesweeper-cell",props:{cell:{type:Object,required:!0}},methods:{getClass:function(){var e=this.cell;return e.isOpen&&e.hasBomb?"minesweeper-bomb":e.isOpen?"minesweeper-open":e.hasFlag?"minesweeper-flag":""}}},p=h,v=(n("a8de"),Object(l["a"])(p,d,b,!1,null,null,null)),g=v.exports,w={name:"minesweeper-game",components:{MinesweeperCell:g},props:{cols:{type:Number,default:9},rows:{type:Number,default:9},bombs:{type:Number,default:10}},data:function(){return{bombCount:0,finished:!1,won:!1,grid:[]}},mounted:function(){this.initGrid()},methods:{getGridStyle:function(){var e=this.cols;return"grid-template-columns: repeat(".concat(e,", 1fr);")},initGrid:function(){var e=this.bombs,t=this.cols,n=this.rows,o=n*t,r=[];if(e>o)console.log("more bombs than space on the grid!");else{for(var s=0;s<o;s+=1)r.push({hasBomb:!1,isOpen:!1,hasFlag:!1,bombCount:0,neighborhood:null});while(e>0){var i=Math.floor(Math.random()*o);!1===r[i].hasBomb&&(e-=1,r[i].hasBomb=!0)}this.grid=r,this.finished=!1,this.won=!1,this.bombCount=this.bombs}},addFlag:function(e){if(!this.finished&&!e.isOpen){e.hasFlag=!e.hasFlag;var t=this.grid,n=t.reduce(function(e,t){return t.hasFlag?e+1:e},0);this.bombCount=this.bombs-n}},doubleClick:function(e,t){if(!this.finished&&!1!==e.isOpen&&(this.setNeighborhood(e,t),e.bombCount)){var n=this.grid,o=0;e.neighborhood.forEach(function(e){n[e].hasFlag&&(o+=1)}),o===e.bombCount&&this.checkNeighborhood(e,!0)}},clickCell:function(e,t){if(!this.finished&&!e.hasFlag&&!e.isOpen){if(e.hasBomb){var n=this.grid;return n.forEach(function(e){e.hasBomb&&(e.isOpen=!0)}),void(this.finished=!0)}this.setNeighborhood(e,t),e.isOpen=!0,this.checkNeighborhood(e)}},checkNeighborhood:function(e,t){var n=this;if(0===e.bombCount||!0===t){var o=this.grid;e.neighborhood.forEach(function(e){n.clickCell(o[e],e)})}},setNeighborhood:function(e,t){if(null===e.neighborhood){for(var n=this.grid,o=[],r=0,s=-1;s<2;s+=1)for(var i=-1;i<2;i+=1){var a=this.getIndex(t,s,i);!1!==a&&(o.push(a),n[a].hasBomb&&(r+=1))}e.bombCount=r,e.neighborhood=o}},getIndex:function(e,t,n){var o=this.cols,r=this.rows;return(0!==t||0!==n)&&(!(e%o+t<0||e%o+t>=o)&&(!(Math.floor(e/o)+n<0||Math.floor(e/o)+n>=r)&&e+(n*o+t)))}},watch:{rows:function(){this.initGrid()},cols:function(){this.initGrid()},bombs:function(){this.initGrid()}}},C=w,_=(n("c3a2"),Object(l["a"])(C,f,m,!1,null,null,null)),y=_.exports;function O(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.component("MinesweeperGame",y)}"undefined"!==typeof window&&window.Vue&&window.Vue===o["a"]&&O(window.Vue);var x=O;o["a"].config.productionTip=!1,o["a"].use(x),new o["a"]({render:function(e){return e(u)}}).$mount("#app")},a8de:function(e,t,n){"use strict";var o=n("52df"),r=n.n(o);r.a},a9d3:function(e,t,n){},c3a2:function(e,t,n){"use strict";var o=n("a9d3"),r=n.n(o);r.a}});
//# sourceMappingURL=app.24dcfafd.js.map